{"ast":null,"code":"import { animate, style, transition, trigger } from '@angular/animations';\nimport { NavigationStart } from '@angular/router';\nimport { filter } from 'rxjs/operators';\nimport { componentAnimation } from 'src/app/animations/component-animation';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/projects.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i5 from \"../project-detail/project-detail.component\";\nfunction ProjectsComponent_div_0_div_3_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 15);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const tech_r5 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", tech_r5, \" \");\n  }\n}\nfunction ProjectsComponent_div_0_div_3_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 16);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const tech_r5 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", tech_r5, \" \");\n  }\n}\nfunction ProjectsComponent_div_0_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵlistener(\"click\", function ProjectsComponent_div_0_div_3_Template_div_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r12);\n      const tech_r5 = restoredCtx.$implicit;\n      const ctx_r11 = i0.ɵɵnextContext(2);\n      return ctx_r11.changeTechState(tech_r5);\n    });\n    i0.ɵɵtemplate(1, ProjectsComponent_div_0_div_3_span_1_Template, 2, 1, \"span\", 13);\n    i0.ɵɵtemplate(2, ProjectsComponent_div_0_div_3_ng_template_2_Template, 2, 1, \"ng-template\", null, 14, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const tech_r5 = ctx.$implicit;\n    const _r7 = i0.ɵɵreference(3);\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.isChecked(tech_r5))(\"ngIfElse\", _r7);\n  }\n}\nfunction ProjectsComponent_div_0_div_8_div_8_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 28);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const tech_r16 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", tech_r16, \" \");\n  }\n}\nfunction ProjectsComponent_div_0_div_8_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26);\n    i0.ɵɵtemplate(1, ProjectsComponent_div_0_div_8_div_8_span_1_Template, 2, 1, \"span\", 27);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const project_r13 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", project_r13.tech);\n  }\n}\nconst _c0 = function () {\n  return [];\n};\nfunction ProjectsComponent_div_0_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 17)(1, \"div\", 18)(2, \"a\", 19);\n    i0.ɵɵlistener(\"click\", function ProjectsComponent_div_0_div_8_Template_a_click_2_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r19);\n      const project_r13 = restoredCtx.$implicit;\n      const ctx_r18 = i0.ɵɵnextContext(2);\n      return ctx_r18.projectOpened(project_r13);\n    });\n    i0.ɵɵelement(3, \"img\", 20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 21)(5, \"h5\", 22);\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"uppercase\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(8, ProjectsComponent_div_0_div_8_div_8_Template, 2, 1, \"div\", 23);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 24)(10, \"div\", 25);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const project_r13 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"src\", ctx_r3.getProjImage(project_r13.id), i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(7, 4, project_r13.name), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", project_r13.tech != i0.ɵɵpureFunction0(6, _c0) && project_r13.tech[0] != \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", project_r13.date, \" \");\n  }\n}\nfunction ProjectsComponent_div_0_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 29);\n    i0.ɵɵelement(1, \"div\", 30);\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c1 = function (a0) {\n  return {\n    \"tech-dropdown-animation\": a0\n  };\n};\nfunction ProjectsComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r21 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"nav\", 3)(2, \"div\", 4);\n    i0.ɵɵtemplate(3, ProjectsComponent_div_0_div_3_Template, 4, 2, \"div\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function ProjectsComponent_div_0_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r21);\n      const ctx_r20 = i0.ɵɵnextContext();\n      return ctx_r20.isCollapsed = !ctx_r20.isCollapsed;\n    });\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(5, \"svg\", 7);\n    i0.ɵɵelement(6, \"path\", 8);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(7, \"div\", 9);\n    i0.ɵɵtemplate(8, ProjectsComponent_div_0_div_8_Template, 12, 7, \"div\", 10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(9, ProjectsComponent_div_0_div_9_Template, 2, 0, \"div\", 11);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"@componentAnimation\", undefined);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(6, _c1, ctx_r0.isCollapsed));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.techs);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", ctx_r0.isCollapsed ? \"btn-secondary\" : \"filter-button-aqua\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.projects);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.projects);\n  }\n}\nfunction ProjectsComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r23 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 31)(1, \"div\", 32)(2, \"div\", 33);\n    i0.ɵɵlistener(\"click\", function ProjectsComponent_div_1_Template_div_click_2_listener() {\n      i0.ɵɵrestoreView(_r23);\n      const ctx_r22 = i0.ɵɵnextContext();\n      return ctx_r22.projectClosed();\n    });\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(3, \"svg\", 34);\n    i0.ɵɵelement(4, \"path\", 35);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelement(5, \"app-project-detail\", 36);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"@openCloseAnimation\", undefined);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"project\", ctx_r1.openedProject);\n  }\n}\nexport let ProjectsComponent = /*#__PURE__*/(() => {\n  class ProjectsComponent {\n    constructor(projService, router) {\n      this.projService = projService;\n      this.router = router;\n      this.filterDict = {};\n      this.year = 'year';\n      this.defaultImg = '../assets/projects/default.webp';\n      this.isCollapsed = true;\n    }\n    ngOnInit() {\n      this.getProjects();\n      this.getTechs();\n      /* When user navigates away from project-details other than the close button,\n      remove scroll block on body*/\n      this.router.events.pipe(filter(event => event instanceof NavigationStart)).subscribe(() => {\n        if (this.openedProject) {\n          this.projectClosed();\n        }\n      });\n    }\n    getProjects() {\n      this.projService.getProjects().subscribe(proj => {\n        this.projects = proj.projects;\n      });\n    }\n    getTechs() {\n      this.techs = ['Angular', 'Azure', 'C++', 'C#', '.NET', 'Elixir', 'Java', 'Python', 'Vue'];\n      this.techs.forEach(tech => {\n        this.filterDict[tech] = true;\n      });\n    }\n    getProjImage(id) {\n      let proj = this.projects.find(p => p.id == id);\n      return proj && proj.images[0] != '' ? proj.images[0] : this.defaultImg;\n    }\n    isChecked(name) {\n      return this.filterDict[name];\n    }\n    changeTechState(name) {\n      this.filterDict[name] = !this.filterDict[name];\n      this.filterTech();\n    }\n    filterTech() {\n      this.projects = this.projService.getFilteredProjects(this.filterDict);\n    }\n    projectOpened(project) {\n      this.openedProject = project;\n      //if specific project is opened, make gallery unscrollable\n      document.body.classList.add('project-detail-open');\n    }\n    projectClosed() {\n      this.openedProject = null;\n      document.body.classList.remove('project-detail-open');\n    }\n  }\n  ProjectsComponent.ɵfac = function ProjectsComponent_Factory(t) {\n    return new (t || ProjectsComponent)(i0.ɵɵdirectiveInject(i1.ProjectsService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n  ProjectsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ProjectsComponent,\n    selectors: [[\"app-projects\"]],\n    decls: 2,\n    vars: 2,\n    consts: [[\"class\", \"container-fluid w-75\", 4, \"ngIf\"], [\"class\", \"project-detail bg-primary-light\", 4, \"ngIf\"], [1, \"container-fluid\", \"w-75\"], [1, \"navbar\", \"bg-gray\", \"blur-hard\", \"mb-0\", \"p-2\", \"border-bottom\", \"border-secondary\", \"border-5\", \"d-flex\", \"justify-content-center\", \"sticky-lg-top\", \"text-center\", 3, \"ngClass\"], [1, \"d-flex\", \"flex-wrap\"], [\"class\", \"text-center\", \"type\", \"button\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"btn\", \"btn-secondary\", \"filter-button\", 3, \"ngClass\", \"click\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"16\", \"height\", \"16\", \"fill\", \"currentColor\", \"viewBox\", \"0 0 16 16\", 1, \"bi\", \"bi-funnel-fill\"], [\"d\", \"M1.5 1.5A.5.5 0 0 1 2 1h12a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.128.334L10 8.692V13.5a.5.5 0 0 1-.342.474l-3 1A.5.5 0 0 1 6 14.5V8.692L1.628 3.834A.5.5 0 0 1 1.5 3.5z\"], [1, \"masonry-layout\"], [\"class\", \"mb-4 mb-lg-0\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"loading-screen\", 4, \"ngIf\"], [\"type\", \"button\", 1, \"text-center\", 3, \"click\"], [\"class\", \"button-shadow-animation mx-2 badge my-1 p-2 bg-primary text-secondary border border-2 border-secondary moirai fs-5\", 4, \"ngIf\", \"ngIfElse\"], [\"unlistedProj\", \"\"], [1, \"button-shadow-animation\", \"mx-2\", \"badge\", \"my-1\", \"p-2\", \"bg-primary\", \"text-secondary\", \"border\", \"border-2\", \"border-secondary\", \"moirai\", \"fs-5\"], [1, \"button-shadow-animation\", \"mx-2\", \"badge\", \"my-1\", \"p-2\", \"bg-gray\", \"text-secondary\", \"rounded-1\", \"border\", \"border-2\", \"border-secondary\", \"moirai\", \"fs-5\"], [1, \"mb-4\", \"mb-lg-0\"], [1, \"w-100\", \"rounded\", \"mb-4\", \"card-hover-animation\"], [3, \"click\"], [\"alt\", \"Card\", 1, \"card-img-top\", \"project-img\", \"w-100\", \"mb-3\", \"rounded\", \"mx-auto\", 3, \"src\"], [1, \"card-body\", \"d-flex\", \"flex-column\"], [1, \"card-title\", \"display-8\", \"text-secondary\"], [\"class\", \"row mt-auto my-2\", 4, \"ngIf\"], [1, \"card-footer\", \"rounded-bottom\", \"p-1\", \"pt-0\", \"bg-header\", \"border-0\"], [1, \"card-text\", \"text-center\", \"text-secondary\", \"blur-hard\", \"rounded-bottom\", \"p-1\"], [1, \"row\", \"mt-auto\", \"my-2\"], [\"class\", \"text-center mx-2 badge bg-secondary fw-light col my-1\", 4, \"ngFor\", \"ngForOf\"], [1, \"text-center\", \"mx-2\", \"badge\", \"bg-secondary\", \"fw-light\", \"col\", \"my-1\"], [1, \"loading-screen\"], [1, \"loading-square\"], [1, \"project-detail\", \"bg-primary-light\"], [1, \"close-button\"], [\"type\", \"button\", \"aria-label\", \"Close\", 3, \"click\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"32\", \"height\", \"32\", \"fill\", \"currentColor\", \"viewBox\", \"0 0 16 16\", 1, \"bi\", \"bi-x\"], [\"d\", \"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708\"], [3, \"project\"]],\n    template: function ProjectsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, ProjectsComponent_div_0_Template, 10, 8, \"div\", 0);\n        i0.ɵɵtemplate(1, ProjectsComponent_div_1_Template, 6, 2, \"div\", 1);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.projects);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.openedProject);\n      }\n    },\n    directives: [i3.NgIf, i4.NgbNavbar, i3.NgClass, i3.NgForOf, i5.ProjectDetailComponent],\n    pipes: [i3.UpperCasePipe],\n    encapsulation: 2,\n    data: {\n      animation: [componentAnimation,\n      //Animation of the project-detail component\n      trigger('openCloseAnimation', [transition(':enter', [style({\n        opacity: 0,\n        transform: 'scale(0.95)'\n      }), animate('400ms ease-in', style({\n        opacity: 1,\n        transform: 'scale(1)'\n      }))]), transition(':leave', [animate('300ms ease-in', style({\n        opacity: 0,\n        transform: 'scale(0.95)'\n      }))])])]\n    }\n  });\n  return ProjectsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}